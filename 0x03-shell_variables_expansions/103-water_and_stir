#!/bin/bash
convert_base() {
  local input="$1"
  local base_characters="$2"
  local base=0

  for (( i=0; i<${#input}; i++ )); do
    char="${input:i:1}"
    digit=$(expr index "$base_characters" "$char" - 1)
    base=$((base * ${#base_characters} + digit))
  done

  echo "$base"
}

water_base10=$(convert_base "$WATER" "water")
stir_base10=$(convert_base "$STIR" "stirr.")
result_base8=$(printf '%o' $((water_base10 + stir_base10)))
echo "Result in base bestchol: $result_base8"
